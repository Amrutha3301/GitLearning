1. USERS TABLE (normal users only)
Table: users

Stores all user accounts.

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(80) NOT NULL,
    email VARCHAR(120) NOT NULL UNIQUE,
    password VARCHAR(120) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

✔ Insert 5 sample users
INSERT INTO users (name, email, password) VALUES
('John Carter', 'john@gmail.com', 'john123'),
('Mia Stone', 'mia@gmail.com', 'mia123'),
('David Ray', 'david@gmail.com', 'david123'),
('Sara Khan', 'sara@gmail.com', 'sara123'),
('Mike Tyson', 'mike@gmail.com', 'mike123');

✅ 2. ADMIN TABLE
Table: admin

Stores admin login credentials.

CREATE TABLE admin (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(80) NOT NULL,
    email VARCHAR(120) NOT NULL UNIQUE,
    password VARCHAR(120) NOT NULL
);

✔ Insert 1 admin
INSERT INTO admin (name, email, password) VALUES
('Super Admin', 'admin@quiz.com', 'admin123');

✅ 3. QUESTIONS TABLE
Table: questions

Stores question text and the correct answer.

CREATE TABLE questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    question_text VARCHAR(500) NOT NULL,
    option_a VARCHAR(200),
    option_b VARCHAR(200),
    option_c VARCHAR(200),
    option_d VARCHAR(200),
    correct_option CHAR(1) NOT NULL,
    category VARCHAR(50) NOT NULL
);

✔ Insert 5 sample science questions
INSERT INTO questions 
(question_text, option_a, option_b, option_c, option_d, correct_option, category)
VALUES
('What does DNA stand for?', 'Adenine', 'Deoxyribonucleic Acid', 'Glucose', 'Protein', 'B', 'SCIENCE'),
('How many bones are in the human body?', '200', '157', '209', '206', 'D', 'SCIENCE'),
('What is the hardest natural substance on Earth?', 'Gold', 'Diamond', 'Copper', 'Silver', 'B', 'SCIENCE'),
('What planet is known as the Red Planet?', 'Earth', 'Mars', 'Jupiter', 'Venus', 'B', 'SCIENCE'),
('What gas do plants absorb?', 'Oxygen', 'Hydrogen', 'Carbon Dioxide', 'Nitrogen', 'C', 'SCIENCE');

✅ 4. QUIZ TABLE
Table: quiz

Stores quiz names and categories.

CREATE TABLE quiz (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(120) NOT NULL,
    category VARCHAR(50) NOT NULL
);

✔ Insert 2 sample quizzes
INSERT INTO quiz (title, category) VALUES
('Basic Science Quiz', 'SCIENCE'),
('Advanced Science Quiz', 'SCIENCE');

✅ 5. QUIZ–QUESTIONS MAPPING
Table: quiz_questions

This table connects quiz → selected questions.

CREATE TABLE quiz_questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    quiz_id INT NOT NULL,
    question_id INT NOT NULL,
    FOREIGN KEY (quiz_id) REFERENCES quiz(id),
    FOREIGN KEY (question_id) REFERENCES questions(id)
);

✔ Insert question mappings

For quiz 1 (Basic Science) use Q1–Q3
For quiz 2 (Advanced Science) use Q2–Q5

INSERT INTO quiz_questions (quiz_id, question_id) VALUES
(1, 1),
(1, 2),
(1, 3),

(2, 2),
(2, 3),
(2, 4),
(2, 5);

✅ 6. QUIZ RESULTS TABLE
Table: quiz_results

Stores each user’s score for each quiz.

CREATE TABLE quiz_results (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    quiz_id INT NOT NULL,
    score INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (quiz_id) REFERENCES quiz(id)
);

✔ Insert sample leaderboard scores
INSERT INTO quiz_results (user_id, quiz_id, score) VALUES
(1, 1, 2),
(2, 1, 3),
(3, 1, 1),
(4, 2, 3),
(5, 2, 4);


Full SQL script (run in MySQL Workbench)

Run as one script. It creates DB quizdb, tables and inserts 5 rows per table where relevant.

-- create database
DROP DATABASE IF EXISTS quizdb;
CREATE DATABASE IF NOT EXISTS quizdb CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE quizdb;

-- admin table
CREATE TABLE IF NOT EXISTS admin (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(120) NOT NULL,
  email VARCHAR(150) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL
);

-- sample admin (1 record)
INSERT INTO admin (name, email, password) VALUES
('Site Admin','admin@quizapp.com','admin123')
ON DUPLICATE KEY UPDATE email = email;

-- users table
CREATE TABLE IF NOT EXISTS users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(120),
  email VARCHAR(150) UNIQUE,
  password VARCHAR(255),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- insert 5 sample users
INSERT INTO users (name,email,password) VALUES
('Mike Tyson','mike@example.com','mikepass'),
('Alice Johnson','alice@example.com','alicepass'),
('Bob Carter','bob@example.com','bobpass'),
('Clara Simpson','clara@example.com','clarapass'),
('Derek Shaw','derek@example.com','derekpass')
ON DUPLICATE KEY UPDATE email = email;

-- questions table (5 sample questions)
CREATE TABLE IF NOT EXISTS questions (
  id INT AUTO_INCREMENT PRIMARY KEY,
  question TEXT NOT NULL,
  option1 VARCHAR(255),
  option2 VARCHAR(255),
  option3 VARCHAR(255),
  option4 VARCHAR(255),
  correct_option INT NOT NULL
);

INSERT INTO questions (question, option1, option2, option3, option4, correct_option) VALUES
('What does DNA stand for?', 'Deoxyribonucleic acid', 'Ribonucleic acid', 'Deoxy nuclear acid', 'Deoxyribose nucleic acid', 1),
('How many bones are in the adult human body?', '206', '201', '198', '210', 1),
('Which gas is most abundant in Earth\\'s atmosphere?', 'Oxygen', 'Nitrogen', 'Carbon Dioxide', 'Argon', 2),
('What is the hardest natural substance on Earth?', 'Iron', 'Gold', 'Diamond', 'Graphite', 3),
('Which organ produces insulin?', 'Liver', 'Pancreas', 'Kidney', 'Gallbladder', 2);

-- quizzes table (2 sample quizzes)
CREATE TABLE IF NOT EXISTS quizzes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  category VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO quizzes (title, category) VALUES
('Personality tests','SCIENCE'),
('General Science Quiz','SCIENCE');

-- get quiz ids
SET @quiz1 = (SELECT id FROM quizzes ORDER BY id LIMIT 1);

-- quiz_questions mapping
CREATE TABLE IF NOT EXISTS quiz_questions (
  id INT AUTO_INCREMENT PRIMARY KEY,
  quiz_id INT NOT NULL,
  question_id INT NOT NULL,
  CONSTRAINT fk_quiz FOREIGN KEY (quiz_id) REFERENCES quizzes(id) ON DELETE CASCADE,
  CONSTRAINT fk_question FOREIGN KEY (question_id) REFERENCES questions(id) ON DELETE CASCADE
);

-- map first 4 questions to first quiz, last one to second quiz
INSERT INTO quiz_questions (quiz_id, question_id) VALUES
((SELECT id FROM quizzes ORDER BY id LIMIT 1), 1),
((SELECT id FROM quizzes ORDER BY id LIMIT 1), 2),
((SELECT id FROM quizzes ORDER BY id LIMIT 1), 3),
((SELECT id FROM quizzes ORDER BY id LIMIT 1), 4),
((SELECT id FROM quizzes ORDER BY id DESC LIMIT 1), 5);

-- leaderboard / results table (5 sample rows)
CREATE TABLE IF NOT EXISTS leaderboard (
  id INT AUTO_INCREMENT PRIMARY KEY,
  quiz_id INT,
  user_id INT,
  score INT,
  taken_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT fk_lb_quiz FOREIGN KEY (quiz_id) REFERENCES quizzes(id),
  CONSTRAINT fk_lb_user FOREIGN KEY (user_id) REFERENCES users(id)
);

INSERT INTO leaderboard (quiz_id, user_id, score) VALUES
((SELECT id FROM quizzes ORDER BY id LIMIT 1), (SELECT id FROM users WHERE email='mike@example.com'), 3),
((SELECT id FROM quizzes ORDER BY id LIMIT 1), (SELECT id FROM users WHERE email='alice@example.com'), 2),
((SELECT id FROM quizzes ORDER BY id LIMIT 1), (SELECT id FROM users WHERE email='bob@example.com'), 1),
((SELECT id FROM quizzes ORDER BY id DESC LIMIT 1), (SELECT id FROM users WHERE email='clara@example.com'), 1),
((SELECT id FROM quizzes ORDER BY id DESC LIMIT 1), (SELECT id FROM users WHERE email='derek@example.com'), 0);


After running this, you will have:

1 admin (admin@quizapp.com
 / admin123)

5 users (see above)

5 questions

2 quizzes (one mapped to 4 questions, the other to 1)

5 leaderboard rows

2) Maven pom.xml (place in project root)
<project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.quizapp</groupId>
  <artifactId>quizapp</artifactId>
  <version>1.0-SNAPSHOT</version>
  <packaging>war</packaging>

  <properties>
    <maven.compiler.source>11</maven.compiler.source>
    <maven.compiler.target>11</maven.compiler.target>
  </properties>

  <dependencies>
    <!-- Servlet API -->
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>javax.servlet-api</artifactId>
      <version>4.0.1</version>
      <scope>provided</scope>
    </dependency>

    <!-- JSTL -->
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>jstl</artifactId>
      <version>1.2</version>
    </dependency>

    <!-- MySQL JDBC -->
    <dependency>
      <groupId>mysql</groupId>
      <artifactId>mysql-connector-java</artifactId>
      <version>8.0.33</version>
    </dependency>

    <!-- Optional: commons-lang (small helpers) -->
    <dependency>
      <groupId>org.apache.commons</groupId>
      <artifactId>commons-lang3</artifactId>
      <version>3.12.0</version>
    </dependency>
  </dependencies>

  <build>
    <finalName>quizapp</finalName>
  </build>
</project>

3) Java source files — core files

Create package structure: com.quizapp.dao, com.quizapp.model, com.quizapp.admin, com.quizapp.user.

Below are the files you need to create (copy/paste). Change DB credentials in DBConnection.

src/main/java/com/quizapp/dao/DBConnection.java
package com.quizapp.dao;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DBConnection {
    private static final String URL = "jdbc:mysql://localhost:3306/quizdb?useSSL=false&serverTimezone=UTC";
    private static final String USER = "root";        // <-- change if needed
    private static final String PASS = "rootpass";    // <-- change to your mysql password

    static {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
    }

    public static Connection getConnection() throws SQLException {
        return DriverManager.getConnection(URL, USER, PASS);
    }
}

Models

src/main/java/com/quizapp/model/User.java

package com.quizapp.model;

public class User {
    private int id;
    private String name;
    private String email;
    private String password;
    // getters/setters
    public int getId() { return id; } public void setId(int id) { this.id = id; }
    public String getName() { return name; } public void setName(String name) { this.name = name; }
    public String getEmail() { return email; } public void setEmail(String email) { this.email = email; }
    public String getPassword() { return password; } public void setPassword(String password) { this.password = password; }
}


src/main/java/com/quizapp/model/Question.java

package com.quizapp.model;

public class Question {
    private int id;
    private String question;
    private String option1, option2, option3, option4;
    private int correctOption;
    // getters/setters
    public int getId(){return id;} public void setId(int id){this.id=id;}
    public String getQuestion(){return question;} public void setQuestion(String q){this.question=q;}
    public String getOption1(){return option1;} public void setOption1(String o){this.option1=o;}
    public String getOption2(){return option2;} public void setOption2(String o){this.option2=o;}
    public String getOption3(){return option3;} public void setOption3(String o){this.option3=o;}
    public String getOption4(){return option4;} public void setOption4(String o){this.option4=o;}
    public int getCorrectOption(){return correctOption;} public void setCorrectOption(int c){this.correctOption=c;}
}


src/main/java/com/quizapp/model/Quiz.java

package com.quizapp.model;

public class Quiz {
    private int id;
    private String title;
    private String category;
    // getters/setters
    public int getId(){return id;} public void setId(int id){this.id=id;}
    public String getTitle(){return title;} public void setTitle(String t){this.title=t;}
    public String getCategory(){return category;} public void setCategory(String c){this.category=c;}
}

DAOs (core)

src/main/java/com/quizapp/dao/AdminDAO.java

package com.quizapp.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

public class AdminDAO {
    public boolean validate(String email, String password) {
        String sql = "SELECT id FROM admin WHERE email=? AND password=?";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setString(1, email);
            ps.setString(2, password);
            try (ResultSet rs = ps.executeQuery()) {
                return rs.next();
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;
    }
}


src/main/java/com/quizapp/dao/UserDAO.java

package com.quizapp.dao;

import com.quizapp.model.User;
import java.sql.*;

public class UserDAO {
    public boolean register(User u) {
        String sql = "INSERT INTO users (name,email,password) VALUES (?,?,?)";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setString(1, u.getName());
            ps.setString(2, u.getEmail());
            ps.setString(3, u.getPassword());
            return ps.executeUpdate() > 0;
        } catch (SQLException ex) {
            ex.printStackTrace();
            return false;
        }
    }

    public User login(String email, String password) {
        String sql = "SELECT id,name FROM users WHERE email=? AND password=?";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setString(1, email);
            ps.setString(2, password);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    User u = new User();
                    u.setId(rs.getInt("id"));
                    u.setName(rs.getString("name"));
                    u.setEmail(email);
                    return u;
                }
            }
        } catch (SQLException ex) { ex.printStackTrace(); }
        return null;
    }
}


src/main/java/com/quizapp/dao/QuestionDAO.java

package com.quizapp.dao;

import com.quizapp.model.Question;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class QuestionDAO {
    public List<Question> getAll() {
        List<Question> list = new ArrayList<>();
        String sql = "SELECT * FROM questions";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) {
                Question q = new Question();
                q.setId(rs.getInt("id"));
                q.setQuestion(rs.getString("question"));
                q.setOption1(rs.getString("option1"));
                q.setOption2(rs.getString("option2"));
                q.setOption3(rs.getString("option3"));
                q.setOption4(rs.getString("option4"));
                q.setCorrectOption(rs.getInt("correct_option"));
                list.add(q);
            }
        } catch (SQLException e) { e.printStackTrace(); }
        return list;
    }

    public Question findById(int id) {
        String sql = "SELECT * FROM questions WHERE id=?";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    Question q = new Question();
                    q.setId(rs.getInt("id"));
                    q.setQuestion(rs.getString("question"));
                    q.setOption1(rs.getString("option1"));
                    q.setOption2(rs.getString("option2"));
                    q.setOption3(rs.getString("option3"));
                    q.setOption4(rs.getString("option4"));
                    q.setCorrectOption(rs.getInt("correct_option"));
                    return q;
                }
            }
        } catch (SQLException e) { e.printStackTrace(); }
        return null;
    }

    public boolean add(Question q) {
        String sql = "INSERT INTO questions (question,option1,option2,option3,option4,correct_option) VALUES (?,?,?,?,?,?)";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setString(1, q.getQuestion());
            ps.setString(2, q.getOption1());
            ps.setString(3, q.getOption2());
            ps.setString(4, q.getOption3());
            ps.setString(5, q.getOption4());
            ps.setInt(6, q.getCorrectOption());
            return ps.executeUpdate() > 0;
        } catch (SQLException e) { e.printStackTrace(); }
        return false;
    }
}


src/main/java/com/quizapp/dao/QuizDAO.java

package com.quizapp.dao;

import com.quizapp.model.Quiz;
import com.quizapp.model.Question;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class QuizDAO {
    public List<Quiz> getAllQuizzes() {
        List<Quiz> list = new ArrayList<>();
        String sql = "SELECT * FROM quizzes";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            while (rs.next()) {
                Quiz q = new Quiz();
                q.setId(rs.getInt("id"));
                q.setTitle(rs.getString("title"));
                q.setCategory(rs.getString("category"));
                list.add(q);
            }
        } catch (SQLException e) { e.printStackTrace(); }
        return list;
    }

    public int createQuiz(Quiz quiz, List<Integer> qids) {
        String sql = "INSERT INTO quizzes (title,category) VALUES (?,?)";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS)) {
            ps.setString(1, quiz.getTitle());
            ps.setString(2, quiz.getCategory());
            int affected = ps.executeUpdate();
            if (affected > 0) {
                try (ResultSet keys = ps.getGeneratedKeys()) {
                    if (keys.next()) {
                        int quizId = keys.getInt(1);
                        String mapSql = "INSERT INTO quiz_questions (quiz_id, question_id) VALUES (?,?)";
                        try (PreparedStatement mapPs = c.prepareStatement(mapSql)) {
                            for (Integer qid : qids) {
                                mapPs.setInt(1, quizId);
                                mapPs.setInt(2, qid);
                                mapPs.addBatch();
                            }
                            mapPs.executeBatch();
                        }
                        return quizId;
                    }
                }
            }
        } catch (SQLException e) { e.printStackTrace(); }
        return -1;
    }

    public List<Question> getQuestionsForQuiz(int quizId) {
        List<Question> list = new ArrayList<>();
        String sql = "SELECT q.* FROM questions q JOIN quiz_questions qq ON q.id=qq.question_id WHERE qq.quiz_id=?";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setInt(1, quizId);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) {
                    Question q = new Question();
                    q.setId(rs.getInt("id"));
                    q.setQuestion(rs.getString("question"));
                    q.setOption1(rs.getString("option1"));
                    q.setOption2(rs.getString("option2"));
                    q.setOption3(rs.getString("option3"));
                    q.setOption4(rs.getString("option4"));
                    q.setCorrectOption(rs.getInt("correct_option"));
                    list.add(q);
                }
            }
        } catch (SQLException e) { e.printStackTrace(); }
        return list;
    }
}


src/main/java/com/quizapp/dao/LeaderboardDAO.java

package com.quizapp.dao;

import java.sql.*;
import java.util.*;

public class LeaderboardDAO {
    public void insertScore(int quizId, int userId, int score) {
        String sql = "INSERT INTO leaderboard (quiz_id,user_id,score) VALUES (?,?,?)";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setInt(1, quizId);
            ps.setInt(2, userId);
            ps.setInt(3, score);
            ps.executeUpdate();
        } catch (SQLException e) { e.printStackTrace(); }
    }

    public List<Map<String,Object>> getLeaderboard(int quizId) {
        List<Map<String,Object>> list = new ArrayList<>();
        String sql = "SELECT l.score, u.name FROM leaderboard l JOIN users u ON l.user_id=u.id WHERE l.quiz_id=? ORDER BY l.score DESC, l.taken_at ASC";
        try (Connection c = DBConnection.getConnection();
             PreparedStatement ps = c.prepareStatement(sql)) {
            ps.setInt(1, quizId);
            try (ResultSet rs = ps.executeQuery()) {
                while (rs.next()) {
                    Map<String,Object> m = new HashMap<>();
                    m.put("name", rs.getString("name"));
                    m.put("score", rs.getInt("score"));
                    list.add(m);
                }
            }
        } catch (SQLException e) { e.printStackTrace(); }
        return list;
    }
}

Servlets

src/main/java/com/quizapp/admin/AdminLoginServlet.java

package com.quizapp.admin;

import com.quizapp.dao.AdminDAO;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/admin/login")
public class AdminLoginServlet extends HttpServlet {
    private AdminDAO dao = new AdminDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.getRequestDispatcher("/admin/login.jsp").forward(req, resp);
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String email = req.getParameter("email");
        String pass = req.getParameter("password");
        if (dao.validate(email, pass)) {
            HttpSession s = req.getSession(true);
            s.setAttribute("adminEmail", email);
            resp.sendRedirect(req.getContextPath() + "/admin/dashboard");
        } else {
            req.setAttribute("error", "Invalid credentials");
            req.getRequestDispatcher("/admin/login.jsp").forward(req, resp);
        }
    }
}


src/main/java/com/quizapp/admin/AdminDashboardServlet.java

package com.quizapp.admin;

import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/admin/dashboard")
public class AdminDashboardServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession s = req.getSession(false);
        if (s == null || s.getAttribute("adminEmail") == null) {
            resp.sendRedirect(req.getContextPath() + "/admin/login");
            return;
        }
        // In future: attach counts (questions, quizzes, users)
        req.getRequestDispatcher("/admin/dashboard.jsp").forward(req, resp);
    }
}


src/main/java/com/quizapp/admin/AdminLogoutServlet.java

package com.quizapp.admin;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import java.io.IOException;

@WebServlet("/admin/logout")
public class AdminLogoutServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        HttpSession s = req.getSession(false);
        if (s != null) s.invalidate();
        resp.sendRedirect(req.getContextPath() + "/admin/login");
    }
}


src/main/java/com/quizapp/admin/AddQuestionServlet.java

package com.quizapp.admin;

import com.quizapp.dao.QuestionDAO;
import com.quizapp.model.Question;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/admin/add-question")
public class AddQuestionServlet extends HttpServlet {
    private QuestionDAO dao = new QuestionDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.getRequestDispatcher("/admin/add-question.jsp").forward(req, resp);
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        Question q = new Question();
        q.setQuestion(req.getParameter("question"));
        q.setOption1(req.getParameter("option1"));
        q.setOption2(req.getParameter("option2"));
        q.setOption3(req.getParameter("option3"));
        q.setOption4(req.getParameter("option4"));
        q.setCorrectOption(Integer.parseInt(req.getParameter("correctOption")));
        boolean ok = dao.add(q);
        if (ok) resp.sendRedirect(req.getContextPath() + "/admin/question-list");
        else {
            req.setAttribute("error", "Could not add question");
            req.getRequestDispatcher("/admin/add-question.jsp").forward(req, resp);
        }
    }
}


src/main/java/com/quizapp/admin/QuestionListServlet.java

package com.quizapp.admin;

import com.quizapp.dao.QuestionDAO;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/admin/question-list")
public class QuestionListServlet extends HttpServlet {
    private QuestionDAO dao = new QuestionDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setAttribute("questions", dao.getAll());
        req.getRequestDispatcher("/admin/question-list.jsp").forward(req, resp);
    }
}


src/main/java/com/quizapp/admin/CreateQuizServlet.java

package com.quizapp.admin;

import com.quizapp.dao.QuizDAO;
import com.quizapp.dao.QuestionDAO;
import com.quizapp.model.Quiz;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/admin/create-quiz")
public class CreateQuizServlet extends HttpServlet {
    private QuizDAO quizDao = new QuizDAO();
    private QuestionDAO questionDao = new QuestionDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setAttribute("questions", questionDao.getAll());
        req.getRequestDispatcher("/admin/create-quiz.jsp").forward(req, resp);
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String title = req.getParameter("title");
        String category = req.getParameter("category");
        String[] qids = req.getParameterValues("qids");
        List<Integer> list = new ArrayList<>();
        if (qids != null) for (String s : qids) list.add(Integer.parseInt(s));
        com.quizapp.model.Quiz quiz = new com.quizapp.model.Quiz();
        quiz.setTitle(title); quiz.setCategory(category);
        int id = quizDao.createQuiz(quiz, list);
        if (id > 0) resp.sendRedirect(req.getContextPath() + "/admin/dashboard");
        else {
            req.setAttribute("error", "Could not create quiz");
            doGet(req, resp);
        }
    }
}


src/main/java/com/quizapp/user/RegisterServlet.java

package com.quizapp.user;

import com.quizapp.dao.UserDAO;
import com.quizapp.model.User;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/user/register")
public class RegisterServlet extends HttpServlet {
    private UserDAO dao = new UserDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.getRequestDispatcher("/user/register.jsp").forward(req, resp);
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        User u = new User();
        u.setName(req.getParameter("name"));
        u.setEmail(req.getParameter("email"));
        u.setPassword(req.getParameter("password"));
        if (dao.register(u)) resp.sendRedirect(req.getContextPath() + "/user/login?msg=registered");
        else {
            req.setAttribute("error","Registration failed (maybe email exists)");
            req.getRequestDispatcher("/user/register.jsp").forward(req, resp);
        }
    }
}


src/main/java/com/quizapp/user/LoginServlet.java

package com.quizapp.user;

import com.quizapp.dao.UserDAO;
import com.quizapp.model.User;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/user/login")
public class LoginServlet extends HttpServlet {
    private UserDAO dao = new UserDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.getRequestDispatcher("/user/login.jsp").forward(req, resp);
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        User u = dao.login(req.getParameter("email"), req.getParameter("password"));
        if (u != null) {
            HttpSession s = req.getSession(true);
            s.setAttribute("user", u);
            resp.sendRedirect(req.getContextPath() + "/user/quizzes");
        } else {
            req.setAttribute("error","Invalid credentials");
            req.getRequestDispatcher("/user/login.jsp").forward(req, resp);
        }
    }
}


src/main/java/com/quizapp/user/QuizListServlet.java

package com.quizapp.user;

import com.quizapp.dao.QuizDAO;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/user/quizzes")
public class QuizListServlet extends HttpServlet {
    private QuizDAO dao = new QuizDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setAttribute("quizzes", dao.getAllQuizzes());
        req.getRequestDispatcher("/user/quiz-list.jsp").forward(req, resp);
    }
}


src/main/java/com/quizapp/user/TakeQuizServlet.java

package com.quizapp.user;

import com.quizapp.dao.QuizDAO;
import com.quizapp.model.Question;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;
import java.util.List;

@WebServlet("/user/take-quiz")
public class TakeQuizServlet extends HttpServlet {
    private QuizDAO dao = new QuizDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        int quizId = Integer.parseInt(req.getParameter("id"));
        List<Question> qs = dao.getQuestionsForQuiz(quizId);
        req.setAttribute("questions", qs);
        req.setAttribute("quizId", quizId);
        req.getRequestDispatcher("/user/take-quiz.jsp").forward(req, resp);
    }
}


src/main/java/com/quizapp/user/SubmitQuizServlet.java

package com.quizapp.user;

import com.quizapp.dao.QuestionDAO;
import com.quizapp.dao.LeaderboardDAO;
import com.quizapp.model.User;
import com.quizapp.model.Question;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/user/submit-quiz")
public class SubmitQuizServlet extends HttpServlet {
    private QuestionDAO qdao = new QuestionDAO();
    private LeaderboardDAO lbdao = new LeaderboardDAO();

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession s = req.getSession(false);
        if (s == null || s.getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/user/login");
            return;
        }
        User u = (User)s.getAttribute("user");
        int quizId = Integer.parseInt(req.getParameter("quizId"));
        String[] qids = req.getParameterValues("qid");
        int score = 0;
        if (qids != null) {
            for (String qidStr : qids) {
                int qid = Integer.parseInt(qidStr);
                String sel = req.getParameter("ans_" + qid);
                Question q = qdao.findById(qid);
                if (q != null && sel != null) {
                    if (Integer.parseInt(sel) == q.getCorrectOption()) score++;
                }
            }
        }
        lbdao.insertScore(quizId, u.getId(), score);
        req.setAttribute("score", score);
        req.getRequestDispatcher("/user/result.jsp").forward(req, resp);
    }
}


src/main/java/com/quizapp/user/LeaderboardServlet.java

package com.quizapp.user;

import com.quizapp.dao.LeaderboardDAO;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import javax.servlet.*;
import java.io.IOException;

@WebServlet("/user/leaderboard")
public class LeaderboardServlet extends HttpServlet {
    private LeaderboardDAO dao = new LeaderboardDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        int quizId = Integer.parseInt(req.getParameter("quizId"));
        req.setAttribute("list", dao.getLeaderboard(quizId));
        req.getRequestDispatcher("/user/leaderboard.jsp").forward(req, resp);
    }
}

4) JSP pages (place under src/main/webapp/)

I provide a concise, styled set of JSPs to match the layout in screenshots: left admin sidebar, content card, top hero with science background; user pages similar. Save images in /assets/images/.

Create directory structure:

src/main/webapp/
  assets/css/style.css
  assets/images/hero-science.jpg   (placeholder background)
  admin/login.jsp
  admin/dashboard.jsp
  admin/add-question.jsp
  admin/question-list.jsp
  admin/create-quiz.jsp
  user/register.jsp
  user/login.jsp
  user/quiz-list.jsp
  user/take-quiz.jsp
  user/result.jsp
  user/leaderboard.jsp
  index.jsp
  WEB-INF/web.xml

CSS — src/main/webapp/assets/css/style.css
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap');

:root{
  --teal: #0ea5a4;
  --bg: #f6f8fb;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: var(--teal);
  --maxwidth: 1100px;
}

*{box-sizing:border-box;font-family:'Montserrat',sans-serif}
body{margin:0;background:var(--bg);color:#111}
.header-hero{
  background-image: url('../images/hero-science.jpg');
  background-size: cover; background-position: center; height:220px;
  display:flex; align-items:center; justify-content:center;
}
.header-hero h1{color:#fff; letter-spacing:3px; font-weight:700}

.container{ max-width:var(--maxwidth); margin: -60px auto 40px; padding:20px}
.card{ background:var(--card); border-radius:8px; padding:20px; box-shadow:0 6px 20px rgba(0,0,0,0.05)}

.flex{display:flex; gap:20px}
.left-nav{ width:220px; background:linear-gradient(180deg,#075e57,#0ea5a4); color:#fff; border-radius:8px; padding:20px; height:400px}
.left-nav h3{ margin-top:0}
.left-nav a{ color:#fff; display:block; padding:8px 0; text-decoration:none; opacity:0.95}
.content{ flex:1 }

.form-row{ margin-bottom:12px }
.form-row input, .form-row textarea, .form-row select{ width:100%; padding:10px; border-radius:6px; border:1px solid #e6e6e6}
.btn{ background:var(--accent); color:#fff; border:none; padding:10px 16px; border-radius:6px; cursor:pointer}
.table{ width:100%; border-collapse:collapse}
.table th, .table td { padding:8px 10px; border-bottom:1px solid #eee}
.table th{ background:#fafafa; text-align:left}
.badge{ background:#e6fffb; color:#065f5b; padding:4px 8px; border-radius:6px}

.topbar{ display:flex; justify-content:flex-end; gap:12px; align-items:center;}
.hero-text{ text-align:center; margin-bottom:20px}
.notice{ background:#eafff7; padding:12px; border-radius:6px; color:#015a54; margin-bottom:12px}


Note: Put a science background image at src/main/webapp/assets/images/hero-science.jpg. You can download a free science lab photo from Unsplash (search: science lab background) and save it there.

src/main/webapp/index.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<html><head><title>Quiz App</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>ONLINE QUIZ</h1></div>
<div class="container">
  <div class="card">
    <h2>Welcome to Quiz Portal</h2>
    <p>Take quizzes and view leaderboard.</p>
    <p><a href="${pageContext.request.contextPath}/user/login">Login</a> | <a href="${pageContext.request.contextPath}/user/register">Register</a> | <a href="${pageContext.request.contextPath}/admin/login">Admin</a></p>
  </div>
</div>
</body></html>

Admin login — src/main/webapp/admin/login.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<html><head><title>Admin Login</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>ADMIN LOGIN</h1></div>
<div class="container">
 <div class="card" style="max-width:900px; margin:0 auto; display:flex; gap:20px; align-items:center">
   <div style="flex:1"><img src="${pageContext.request.contextPath}/assets/images/hero-science.jpg" style="width:100%; border-radius:6px"/></div>
   <div style="flex:1">
     <h2>Welcome Back!</h2>
     <c:if test="${not empty error}">
       <div class="notice">${error}</div>
     </c:if>
     <form action="${pageContext.request.contextPath}/admin/login" method="post">
       <div class="form-row"><input type="email" name="email" placeholder="Enter Email Address" required/></div>
       <div class="form-row"><input type="password" name="password" placeholder="Password" required/></div>
       <div class="form-row"><button class="btn" type="submit">Login</button></div>
     </form>
   </div>
 </div>
</div>
</body></html>

Admin dashboard — src/main/webapp/admin/dashboard.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%
 String adminEmail = (String) session.getAttribute("adminEmail");
 if (adminEmail == null) { response.sendRedirect(request.getContextPath()+"/admin/login"); return; }
%>
<html><head><title>Dashboard</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>ADMIN DASHBOARD</h1></div>
<div class="container">
  <div class="flex">
    <div class="left-nav card">
      <h3>QUIZ APP</h3>
      <a href="${pageContext.request.contextPath}/admin/dashboard">Dashboard</a>
      <a href="${pageContext.request.contextPath}/admin/create-quiz">Quiz Manager</a>
      <a href="${pageContext.request.contextPath}/admin/add-question">Question Manager</a>
      <a href="${pageContext.request.contextPath}/admin/question-list">Question List</a>
      <hr style="border:none;height:1px;background:rgba(255,255,255,0.1)"/>
      <div style="font-size:14px">Welcome <br/><b>${adminEmail}</b></div>
      <div style="margin-top:12px"><a style="color:#fff" href="${pageContext.request.contextPath}/admin/logout">Logout</a></div>
    </div>

    <div class="content">
      <div class="card">
        <div class="topbar">Welcome Admin — <b>${adminEmail}</b></div>
        <div class="hero-text">
          <h2>Tables</h2>
          <p class="muted">DataTables example (simplified)</p>
        </div>

        <!-- simple quiz list -->
        <div>
          <h3>Quick Actions</h3>
          <p><a class="btn" href="${pageContext.request.contextPath}/admin/create-quiz">Create New Quiz</a> <a class="btn" href="${pageContext.request.contextPath}/admin/add-question">Add Question</a></p>
        </div>
      </div>
    </div>
  </div>
</div>
</body></html>

Admin add-question — src/main/webapp/admin/add-question.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<html><head><title>Add Question</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="container">
 <div class="card" style="max-width:900px; margin:0 auto">
   <h2>Add New Question</h2>
   <form action="${pageContext.request.contextPath}/admin/add-question" method="post">
     <div class="form-row"><textarea name="question" placeholder="Question" required></textarea></div>
     <div class="form-row"><input name="option1" placeholder="Option 1" required/></div>
     <div class="form-row"><input name="option2" placeholder="Option 2" required/></div>
     <div class="form-row"><input name="option3" placeholder="Option 3" required/></div>
     <div class="form-row"><input name="option4" placeholder="Option 4" required/></div>
     <div class="form-row">Correct Option (1-4): <input name="correctOption" type="number" min="1" max="4" value="1" required/></div>
     <div class="form-row"><button class="btn" type="submit">Add Question</button></div>
   </form>
 </div>
</div>
</body></html>

Admin question-list — src/main/webapp/admin/question-list.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List, com.quizapp.model.Question" %>
<%
 List<Question> qs = (List<Question>) request.getAttribute("questions");
%>
<html><head><title>Question List</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="container">
 <div class="card">
   <h2>Question List</h2>
   <table class="table">
     <tr><th>Sr No</th><th>Question</th><th>Option-1</th><th>Option-2</th><th>Option-3</th><th>Option-4</th><th>Answer</th></tr>
     <%
       if (qs != null) {
         for (Question q : qs) {
     %>
     <tr>
       <td><%= q.getId() %></td>
       <td><%= q.getQuestion() %></td>
       <td><%= q.getOption1() %></td>
       <td><%= q.getOption2() %></td>
       <td><%= q.getOption3() %></td>
       <td><%= q.getOption4() %></td>
       <td><%= q.getCorrectOption() %></td>
     </tr>
     <% } } %>
   </table>
 </div>
</div>
</body></html>

Admin create-quiz — src/main/webapp/admin/create-quiz.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List, com.quizapp.model.Question" %>
<%
 List<Question> qs = (List<Question>) request.getAttribute("questions");
%>
<html><head><title>Create Quiz</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="container">
 <div class="card" style="max-width:1000px; margin:0 auto">
   <h2>Create New Quiz</h2>
   <form method="post" action="${pageContext.request.contextPath}/admin/create-quiz">
     <div class="form-row"><input name="title" placeholder="Quiz Title" required/></div>
     <div class="form-row"><input name="category" placeholder="Category" required/></div>
     <h3>Select Questions</h3>
     <div style="max-height:300px; overflow:auto; border:1px solid #eee; padding:10px;">
       <%
         if (qs != null) {
           for (Question q : qs) {
       %>
       <div><label><input type="checkbox" name="qids" value="<%=q.getId()%>"/> <%= q.getQuestion() %></label></div>
       <% } } %>
     </div>
     <div class="form-row"><button class="btn" type="submit">Create Quiz</button></div>
   </form>
 </div>
</div>
</body></html>

User register — src/main/webapp/user/register.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<html><head><title>Register</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>REGISTER</h1></div>
<div class="container">
 <div class="card" style="max-width:700px; margin:0 auto">
   <h2>Create Account</h2>
   <form action="${pageContext.request.contextPath}/user/register" method="post">
     <div class="form-row"><input name="name" placeholder="Your Name" required/></div>
     <div class="form-row"><input name="email" type="email" placeholder="Email" required/></div>
     <div class="form-row"><input name="password" type="password" placeholder="Password" required/></div>
     <div class="form-row"><button class="btn">Register</button></div>
   </form>
 </div>
</div>
</body></html>

User login — src/main/webapp/user/login.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<html><head><title>Login</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>LOGIN</h1></div>
<div class="container">
 <div class="card" style="max-width:600px; margin:0 auto">
   <h2>Login</h2>
   <form action="${pageContext.request.contextPath}/user/login" method="post">
     <div class="form-row"><input name="email" type="email" placeholder="Email" required/></div>
     <div class="form-row"><input name="password" type="password" placeholder="Password" required/></div>
     <div class="form-row"><button class="btn">Login</button></div>
   </form>
 </div>
</div>
</body></html>

User quiz list — src/main/webapp/user/quiz-list.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List, com.quizapp.model.Quiz" %>
<%
 List<Quiz> qs = (List<Quiz>) request.getAttribute("quizzes");
%>
<html><head><title>Quizzes</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>AVAILABLE QUIZZES</h1></div>
<div class="container">
 <div class="card">
   <h2>Quiz List</h2>
   <table class="table">
     <tr><th>Sr No</th><th>Quiz Title</th><th>Category</th><th>Action</th></tr>
     <%
       if (qs != null) {
         int i=1;
         for (Quiz q : qs) {
     %>
     <tr>
       <td><%= i++ %></td>
       <td><%= q.getTitle() %></td>
       <td><%= q.getCategory() %></td>
       <td><a class="btn" href="${pageContext.request.contextPath}/user/take-quiz?id=<%=q.getId()%>">Start</a></td>
     </tr>
     <% } } %>
   </table>
 </div>
</div>
</body></html>

User take-quiz — src/main/webapp/user/take-quiz.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List, com.quizapp.model.Question" %>
<%
 List<Question> qs = (List<Question>) request.getAttribute("questions");
 int quizId = (Integer) request.getAttribute("quizId");
%>
<html><head><title>Take Quiz</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="container">
 <div class="card">
   <h2>Quiz</h2>
   <form method="post" action="${pageContext.request.contextPath}/user/submit-quiz">
     <input type="hidden" name="quizId" value="<%= quizId %>"/>
     <%
       if (qs != null) {
         for (Question q : qs) {
     %>
     <div style="margin-bottom:14px; padding:10px; border-radius:6px; border:1px solid #eee">
       <p><strong><%= q.getQuestion() %></strong></p>
       <input type="hidden" name="qid" value="<%= q.getId() %>"/>
       <div><label><input type="radio" name="ans_<%=q.getId()%>" value="1"/> <%= q.getOption1() %></label></div>
       <div><label><input type="radio" name="ans_<%=q.getId()%>" value="2"/> <%= q.getOption2() %></label></div>
       <div><label><input type="radio" name="ans_<%=q.getId()%>" value="3"/> <%= q.getOption3() %></label></div>
       <div><label><input type="radio" name="ans_<%=q.getId()%>" value="4"/> <%= q.getOption4() %></label></div>
     </div>
     <% } } %>
     <div class="form-row"><button class="btn" type="submit">Submit</button></div>
   </form>
 </div>
</div>
</body></html>

User result — src/main/webapp/user/result.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<html><head><title>Result</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="container">
 <div class="card" style="max-width:600px;margin:0 auto">
   <h2>Result</h2>
   <p>Your score: <strong>${score}</strong></p>
   <p><a href="${pageContext.request.contextPath}/user/quizzes">Back to quizzes</a></p>
 </div>
</div>
</body></html>

User leaderboard — src/main/webapp/user/leaderboard.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List, java.util.Map" %>
<%
 List<Map<String,Object>> list = (List<Map<String,Object>>) request.getAttribute("list");
%>
<html><head><title>Leaderboard</title>
<link rel="stylesheet" href="${pageContext.request.contextPath}/assets/css/style.css"/>
</head><body>
<div class="header-hero"><h1>LEADERBOARD</h1></div>
<div class="container">
 <div class="card">
   <table class="table">
     <tr><th>Sr No</th><th>User</th><th>Score</th></tr>
     <%
       if (list != null) {
         int i = 1;
         for (Map<String,Object> m : list) {
     %>
     <tr>
       <td><%= i++ %></td>
       <td><%= m.get("name") %></td>
       <td><%= m.get("score") %></td>
     </tr>
     <% } } %>
   </table>
 </div>
</div>
</body></html>

src/main/webapp/WEB-INF/web.xml (you can keep minimal)
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" version="3.1">
  <welcome-file-list><welcome-file>index.jsp</welcome-file></welcome-file-list>
</web-app>

5) Images & where to put them

Place image files in:

src/main/webapp/assets/images/
  hero-science.jpg    (hero banner used on pages)


Use any free science-themed image (Unsplash: search "laboratory background" or "science background"). The CSS expects assets/images/hero-science.jpg.

6) What you must change in code (quick checklist)

DB credentials: Open DBConnection.java and change USER and PASS to match your MySQL credentials.

MySQL port: If not default 3306, update URL in DBConnection.

Tomcat server port: default 8080; when you Run on Server in Eclipse, check Servers view.

Add real images: replace hero-science.jpg with your own to match screenshots.

Password hashing: production: hash passwords. For this learning project, plain text is used.

7) How to import this into Eclipse (Maven)

Save all files into the structure above (or I can provide a zip on request).

In Eclipse: File → Import → Existing Maven Projects → select project root (where pom.xml is).

Wait for Maven dependencies to download.

Configure Tomcat runtime (if not already): Window → Preferences → Server → Runtime Environments → Add → Apache Tomcat v9.

If you don’t see Server in Preferences, install Eclipse Enterprise package or WTP plugins (we discussed earlier).

Right-click project → Run As → Run on Server → choose Tomcat.

Start MySQL, open MySQL Workbench → run SQL script above.

Visit:

Admin login: http://localhost:8080/quizapp/admin/login (admin@quizapp.com
 / admin123)

User register: http://localhost:8080/quizapp/user/register

Index: http://localhost:8080/quizapp/


roject structure
Code
quiz-portal/
├─ src/main/java/
│  ├─ com.quiz.config/
│  │  └─ DBUtil.java
│  ├─ com.quiz.model/
│  │  ├─ User.java
│  │  ├─ Admin.java
│  │  ├─ Question.java
│  │  ├─ Quiz.java
│  │  ├─ QuizQuestion.java
│  │  └─ QuizResult.java
│  ├─ com.quiz.dao/
│  │  ├─ UserDAO.java
│  │  ├─ AdminDAO.java
│  │  ├─ QuestionDAO.java
│  │  ├─ QuizDAO.java
│  │  └─ ResultDAO.java
│  └─ com.quiz.web/
│     ├─ AuthServlet.java
│     ├─ AdminDashboardServlet.java
│     ├─ CreateQuizServlet.java
│     ├─ ListQuizzesServlet.java
│     ├─ AttemptQuizServlet.java
│     ├─ SubmitQuizServlet.java
│     └─ LeaderboardServlet.java
├─ src/main/webapp/
│  ├─ WEB-INF/
│  │  ├─ web.xml
│  │  └─ views/
│  │     ├─ index.jsp
│  │     ├─ login.jsp
│  │     ├─ admin-dashboard.jsp
│  │     ├─ create-quiz.jsp
│  │     ├─ quizzes.jsp
│  │     ├─ attempt.jsp
│  │     ├─ result.jsp
│  │     └─ leaderboard.jsp
│  ├─ assets/
│  │  └─ styles.css
│  └─ META-INF/
└─ pom.xml (if using Maven)
Database utility
java
package com.quiz.config;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBUtil {
    private static final String URL = "jdbc:mysql://localhost:3306/quizdb?useSSL=false&serverTimezone=UTC";
    private static final String USER = "root";     // change
    private static final String PASS = "password"; // change

    static {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (Exception e) {
            throw new RuntimeException("Failed to load MySQL driver", e);
        }
    }

    public static Connection getConnection() throws Exception {
        return DriverManager.getConnection(URL, USER, PASS);
    }
}
Models
java
package com.quiz.model;

public class User {
    private int id;
    private String name;
    private String email;
    private String password;
    // getters/setters
}
java
package com.quiz.model;

public class Admin {
    private int id;
    private String name;
    private String email;
    private String password;
    // getters/setters
}
java
package com.quiz.model;

public class Question {
    private int id;
    private String questionText;
    private String optionA, optionB, optionC, optionD;
    private char correctOption;
    private String category;
    // getters/setters
}
java
package com.quiz.model;

public class Quiz {
    private int id;
    private String title;
    private String category;
    // getters/setters
}
java
package com.quiz.model;

public class QuizQuestion {
    private int id;
    private int quizId;
    private int questionId;
    // getters/setters
}
java
package com.quiz.model;

import java.sql.Timestamp;

public class QuizResult {
    private int id;
    private int userId;
    private int quizId;
    private int score;
    private Timestamp createdAt;
    // getters/setters
}
DAOs
java
package com.quiz.dao;

import com.quiz.config.DBUtil;
import com.quiz.model.User;
import java.sql.*;

public class UserDAO {
    public User findByEmailAndPassword(String email, String password) throws Exception {
        String sql = "SELECT * FROM users WHERE email=? AND password=?";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setString(1, email);
            ps.setString(2, password);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    User u = new User();
                    u.setId(rs.getInt("id"));
                    u.setName(rs.getString("name"));
                    u.setEmail(rs.getString("email"));
                    u.setPassword(rs.getString("password"));
                    return u;
                }
                return null;
            }
        }
    }

    public int countUsers() throws Exception {
        try (Connection con = DBUtil.getConnection();
             Statement st = con.createStatement();
             ResultSet rs = st.executeQuery("SELECT COUNT(*) FROM users")) {
            rs.next();
            return rs.getInt(1);
        }
    }
}
java
package com.quiz.dao;

import com.quiz.config.DBUtil;
import com.quiz.model.Admin;
import java.sql.*;

public class AdminDAO {
    public Admin findByEmailAndPassword(String email, String password) throws Exception {
        String sql = "SELECT * FROM admin WHERE email=? AND password=?";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setString(1, email);
            ps.setString(2, password);
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    Admin a = new Admin();
                    a.setId(rs.getInt("id"));
                    a.setName(rs.getString("name"));
                    a.setEmail(rs.getString("email"));
                    a.setPassword(rs.getString("password"));
                    return a;
                }
                return null;
            }
        }
    }

    public int updateProfile(int id, String name, String email, String password) throws Exception {
        String sql = "UPDATE admin SET name=?, email=?, password=? WHERE id=?";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setString(1, name);
            ps.setString(2, email);
            ps.setString(3, password);
            ps.setInt(4, id);
            return ps.executeUpdate();
        }
    }
}
java
package com.quiz.dao;

import com.quiz.config.DBUtil;
import com.quiz.model.Question;
import java.sql.*;
import java.util.*;

public class QuestionDAO {
    public List<Question> findByIds(List<Integer> ids) throws Exception {
        if (ids.isEmpty()) return Collections.emptyList();
        String placeholders = String.join(",", Collections.nCopies(ids.size(), "?"));
        String sql = "SELECT * FROM questions WHERE id IN (" + placeholders + ")";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            for (int i = 0; i < ids.size(); i++) ps.setInt(i + 1, ids.get(i));
            try (ResultSet rs = ps.executeQuery()) {
                List<Question> list = new ArrayList<>();
                while (rs.next()) list.add(map(rs));
                return list;
            }
        }
    }

    public List<Question> listByQuiz(int quizId) throws Exception {
        String sql = "SELECT q.* FROM questions q JOIN quiz_questions qq ON q.id=qq.question_id WHERE qq.quiz_id=?";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setInt(1, quizId);
            try (ResultSet rs = ps.executeQuery()) {
                List<Question> list = new ArrayList<>();
                while (rs.next()) list.add(map(rs));
                return list;
            }
        }
    }

    private Question map(ResultSet rs) throws Exception {
        Question q = new Question();
        q.setId(rs.getInt("id"));
        q.setQuestionText(rs.getString("question_text"));
        q.setOptionA(rs.getString("option_a"));
        q.setOptionB(rs.getString("option_b"));
        q.setOptionC(rs.getString("option_c"));
        q.setOptionD(rs.getString("option_d"));
        q.setCorrectOption(rs.getString("correct_option").charAt(0));
        q.setCategory(rs.getString("category"));
        return q;
    }

    public int countQuestions() throws Exception {
        try (Connection con = DBUtil.getConnection();
             Statement st = con.createStatement();
             ResultSet rs = st.executeQuery("SELECT COUNT(*) FROM questions")) {
            rs.next();
            return rs.getInt(1);
        }
    }
}
java
package com.quiz.dao;

import com.quiz.config.DBUtil;
import com.quiz.model.Quiz;
import java.sql.*;
import java.util.*;

public class QuizDAO {
    public List<Quiz> listAll() throws Exception {
        String sql = "SELECT * FROM quiz";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {
            List<Quiz> list = new ArrayList<>();
            while (rs.next()) list.add(map(rs));
            return list;
        }
    }

    public Quiz findById(int id) throws Exception {
        String sql = "SELECT * FROM quiz WHERE id=?";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setInt(1, id);
            try (ResultSet rs = ps.executeQuery()) {
                return rs.next() ? map(rs) : null;
            }
        }
    }

    public int createQuiz(String title, String category, List<Integer> questionIds) throws Exception {
        try (Connection con = DBUtil.getConnection()) {
            con.setAutoCommit(false);
            try {
                // insert quiz
                int quizId;
                try (PreparedStatement ps = con.prepareStatement(
                        "INSERT INTO quiz (title, category) VALUES (?, ?)", Statement.RETURN_GENERATED_KEYS)) {
                    ps.setString(1, title);
                    ps.setString(2, category);
                    ps.executeUpdate();
                    try (ResultSet keys = ps.getGeneratedKeys()) {
                        keys.next();
                        quizId = keys.getInt(1);
                    }
                }
                // insert quiz_questions
                try (PreparedStatement ps = con.prepareStatement(
                        "INSERT INTO quiz_questions (quiz_id, question_id) VALUES (?, ?)")) {
                    for (Integer qid : questionIds) {
                        ps.setInt(1, quizId);
                        ps.setInt(2, qid);
                        ps.addBatch();
                    }
                    ps.executeBatch();
                }
                con.commit();
                return quizId;
            } catch (Exception e) {
                con.rollback();
                throw e;
            } finally {
                con.setAutoCommit(true);
            }
        }
    }

    public int countQuizzes() throws Exception {
        try (Connection con = DBUtil.getConnection();
             Statement st = con.createStatement();
             ResultSet rs = st.executeQuery("SELECT COUNT(*) FROM quiz")) {
            rs.next();
            return rs.getInt(1);
        }
    }
}
java
package com.quiz.dao;

import com.quiz.config.DBUtil;
import com.quiz.model.QuizResult;
import java.sql.*;
import java.util.*;

public class ResultDAO {

    public void saveResult(int userId, int quizId, int score) throws Exception {
        String sql = "INSERT INTO quiz_results (user_id, quiz_id, score) VALUES (?, ?, ?)";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setInt(1, userId);
            ps.setInt(2, quizId);
            ps.setInt(3, score);
            ps.executeUpdate();
        }
    }

    public List<QuizResult> leaderboard(int quizId) throws Exception {
        String sql = "SELECT * FROM quiz_results WHERE quiz_id=? ORDER BY score DESC, created_at ASC";
        try (Connection con = DBUtil.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {
            ps.setInt(1, quizId);
            try (ResultSet rs = ps.executeQuery()) {
                List<QuizResult> list = new ArrayList<>();
                while (rs.next()) {
                    QuizResult r = new QuizResult();
                    r.setId(rs.getInt("id"));
                    r.setUserId(rs.getInt("user_id"));
                    r.setQuizId(rs.getInt("quiz_id"));
                    r.setScore(rs.getInt("score"));
                    r.setCreatedAt(rs.getTimestamp("created_at"));
                    list.add(r);
                }
                return list;
            }
        }
    }
}
Servlets
java
package com.quiz.web;

import com.quiz.dao.UserDAO;
import com.quiz.dao.AdminDAO;
import com.quiz.model.User;
import com.quiz.model.Admin;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;

@WebServlet(urlPatterns = {"/login", "/logout"})
public class AuthServlet extends HttpServlet {
    private final UserDAO userDAO = new UserDAO();
    private final AdminDAO adminDAO = new AdminDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        if ("/logout".equals(req.getServletPath())) {
            req.getSession().invalidate();
            resp.sendRedirect(req.getContextPath() + "/");
            return;
        }
        req.getRequestDispatcher("/WEB-INF/views/login.jsp").forward(req, resp);
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws IOException, ServletException {
        String role = req.getParameter("role"); // "user" or "admin"
        String email = req.getParameter("email");
        String password = req.getParameter("password");

        try {
            HttpSession session = req.getSession();
            if ("admin".equals(role)) {
                Admin a = adminDAO.findByEmailAndPassword(email, password);
                if (a != null) {
                    session.setAttribute("admin", a);
                    resp.sendRedirect(req.getContextPath() + "/admin/dashboard");
                } else {
                    req.setAttribute("error", "Invalid admin credentials");
                    req.getRequestDispatcher("/WEB-INF/views/login.jsp").forward(req, resp);
                }
            } else {
                User u = userDAO.findByEmailAndPassword(email, password);
                if (u != null) {
                    session.setAttribute("user", u);
                    resp.sendRedirect(req.getContextPath() + "/quizzes");
                } else {
                    req.setAttribute("error", "Invalid user credentials");
                    req.getRequestDispatcher("/WEB-INF/views/login.jsp").forward(req, resp);
                }
            }
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
java
package com.quiz.web;

import com.quiz.dao.QuestionDAO;
import com.quiz.dao.QuizDAO;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;

@WebServlet("/admin/dashboard")
public class AdminDashboardServlet extends HttpServlet {
    private final QuizDAO quizDAO = new QuizDAO();
    private final QuestionDAO questionDAO = new QuestionDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        if (req.getSession().getAttribute("admin") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }
        try {
            req.setAttribute("totalQuizzes", quizDAO.countQuizzes());
            req.setAttribute("totalQuestions", questionDAO.countQuestions());
            req.setAttribute("totalUsers", new com.quiz.dao.UserDAO().countUsers());
            req.getRequestDispatcher("/WEB-INF/views/admin-dashboard.jsp").forward(req, resp);
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
java
package com.quiz.web;

import com.quiz.dao.QuestionDAO;
import com.quiz.dao.QuizDAO;
import com.quiz.model.Question;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.util.*;
import java.util.stream.Collectors;

@WebServlet("/admin/create-quiz")
public class CreateQuizServlet extends HttpServlet {
    private final QuizDAO quizDAO = new QuizDAO();
    private final QuestionDAO questionDAO = new QuestionDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        if (req.getSession().getAttribute("admin") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }
        try {
            // simple list all questions to pick
            List<Question> questions = questionDAO.listByQuiz(1); // or implement listAll
            req.setAttribute("allQuestions", questions);
            req.getRequestDispatcher("/WEB-INF/views/create-quiz.jsp").forward(req, resp);
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws IOException, ServletException {
        if (req.getSession().getAttribute("admin") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }
        String title = req.getParameter("title");
        String category = req.getParameter("category");
        String[] qids = req.getParameterValues("questionIds");

        try {
            List<Integer> questionIds = qids == null ? Collections.emptyList()
                    : Arrays.stream(qids).map(Integer::parseInt).collect(Collectors.toList());
            int quizId = quizDAO.createQuiz(title, category, questionIds);
            resp.sendRedirect(req.getContextPath() + "/admin/dashboard");
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
java
package com.quiz.web;

import com.quiz.dao.QuizDAO;
import com.quiz.model.Quiz;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.util.List;

@WebServlet("/quizzes")
public class ListQuizzesServlet extends HttpServlet {
    private final QuizDAO quizDAO = new QuizDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        if (req.getSession().getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }
        try {
            List<Quiz> quizzes = quizDAO.listAll();
            req.setAttribute("quizzes", quizzes);
            req.getRequestDispatcher("/WEB-INF/views/quizzes.jsp").forward(req, resp);
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
java
package com.quiz.web;

import com.quiz.dao.QuestionDAO;
import com.quiz.dao.QuizDAO;
import com.quiz.model.Question;
import com.quiz.model.Quiz;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.util.List;

@WebServlet("/attempt")
public class AttemptQuizServlet extends HttpServlet {
    private final QuestionDAO questionDAO = new QuestionDAO();
    private final QuizDAO quizDAO = new QuizDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        if (req.getSession().getAttribute("user") == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }
        int quizId = Integer.parseInt(req.getParameter("id"));
        try {
            Quiz quiz = quizDAO.findById(quizId);
            List<Question> questions = questionDAO.listByQuiz(quizId);
            req.setAttribute("quiz", quiz);
            req.setAttribute("questions", questions);
            req.getRequestDispatcher("/WEB-INF/views/attempt.jsp").forward(req, resp);
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
java
package com.quiz.web;

import com.quiz.dao.ResultDAO;
import com.quiz.dao.QuestionDAO;
import com.quiz.model.Question;
import com.quiz.model.User;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.util.List;

@WebServlet("/submit")
public class SubmitQuizServlet extends HttpServlet {
    private final ResultDAO resultDAO = new ResultDAO();
    private final QuestionDAO questionDAO = new QuestionDAO();

    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        User user = (User) req.getSession().getAttribute("user");
        if (user == null) {
            resp.sendRedirect(req.getContextPath() + "/login");
            return;
        }
        int quizId = Integer.parseInt(req.getParameter("quizId"));
        try {
            List<Question> questions = questionDAO.listByQuiz(quizId);
            int score = 0;
            for (Question q : questions) {
                String ans = req.getParameter("q_" + q.getId());
                if (ans != null && ans.length() == 1 && Character.toUpperCase(ans.charAt(0)) == q.getCorrectOption()) {
                    score++;
                }
            }
            resultDAO.saveResult(user.getId(), quizId, score);
            req.setAttribute("score", score);
            req.setAttribute("total", questions.size());
            req.setAttribute("quizId", quizId);
            req.getRequestDispatcher("/WEB-INF/views/result.jsp").forward(req, resp);
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
java
package com.quiz.web;

import com.quiz.dao.ResultDAO;
import com.quiz.model.QuizResult;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.util.List;

@WebServlet("/leaderboard")
public class LeaderboardServlet extends HttpServlet {
    private final ResultDAO resultDAO = new ResultDAO();

    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        int quizId = Integer.parseInt(req.getParameter("quizId"));
        try {
            List<QuizResult> lb = resultDAO.leaderboard(quizId);
            req.setAttribute("leaderboard", lb);
            req.getRequestDispatcher("/WEB-INF/views/leaderboard.jsp").forward(req, resp);
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}
JSP views
WEB-INF/views/index.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html><head><title>Quiz Portal</title></head>
<body>
<h1>Welcome to the Quiz Portal</h1>
<a href="${pageContext.request.contextPath}/login">Login</a>
</body></html>
WEB-INF/views/login.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html><head><title>Login</title></head>
<body>
<h2>Login</h2>
<form method="post" action="${pageContext.request.contextPath}/login">
  <label>Role:
    <select name="role">
      <option value="user">User</option>
      <option value="admin">Admin</option>
    </select>
  </label><br/>
  <label>Email: <input type="email" name="email" required></label><br/>
  <label>Password: <input type="password" name="password" required></label><br/>
  <button type="submit">Login</button>
</form>
<c:if test="${not empty error}"><p style="color:red">${error}</p></c:if>
</body></html>
WEB-INF/views/admin-dashboard.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html><head><title>Admin Dashboard</title></head>
<body>
<h2>Admin Dashboard</h2>
<p>Total Quizzes: ${totalQuizzes}</p>
<p>Total Questions: ${totalQuestions}</p>
<pTotal Users: ${totalUsers}</p>
<a href="${pageContext.request.contextPath}/admin/create-quiz">Create New Quiz</a> |
<a href="${pageContext.request.contextPath}/logout">Logout</a>
</body></html>
WEB-INF/views/create-quiz.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html><head><title>Create Quiz</title></head>
<body>
<h2>Create Quiz</h2>
<form method="post" action="${pageContext.request.contextPath}/admin/create-quiz">
  <label>Title: <input type="text" name="title" required></label><br/>
  <label>Category: <input type="text" name="category" value="SCIENCE" required></label><br/>
  <h3>Select Questions</h3>
  <!-- For demo: let admin type IDs -->
  <label>Question IDs (comma-separated): <input type="text" name="qidString"></label><br/>
  <button type="submit">Create</button>
</form>
<p>Tip: Change CreateQuizServlet to display all questions and use checkboxes.</p>
</body></html>
Note: The create-quiz page is simplified. If you want real checkboxes, modify servlet to fetch all questions and render them as:

Code
<input type="checkbox" name="questionIds" value="${q.id}">
WEB-INF/views/quizzes.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List,com.quiz.model.Quiz" %>
<%
List<Quiz> quizzes = (List<Quiz>) request.getAttribute("quizzes");
%>
<!DOCTYPE html>
<html><head><title>Quizzes</title></head>
<body>
<h2>Available Quizzes</h2>
<ul>
<% for (Quiz q : quizzes) { %>
  <li>
    <%= q.getTitle() %> (<%= q.getCategory() %>)
    <a href="${pageContext.request.contextPath}/attempt?id=<%=q.getId()%>">Attempt</a>
  </li>
<% } %>
</ul>
<a href="${pageContext.request.contextPath}/logout">Logout</a>
</body></html>
WEB-INF/views/attempt.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List,com.quiz.model.Question,com.quiz.model.Quiz" %>
<%
Quiz quiz = (Quiz) request.getAttribute("quiz");
List<Question> questions = (List<Question>) request.getAttribute("questions");
%>
<!DOCTYPE html>
<html><head><title>Attempt - <%=quiz.getTitle()%></title></head>
<body>
<h2><%= quiz.getTitle() %></h2>
<form method="post" action="${pageContext.request.contextPath}/submit">
<input type="hidden" name="quizId" value="<%=quiz.getId()%>" />
<% int i=1; for (Question q : questions) { %>
  <p><b>Q<%=i++%>:</b> <%= q.getQuestionText() %></p>
  <label><input type="radio" name="q_<%=q.getId()%>" value="A"> <%= q.getOptionA() %></label><br/>
  <label><input type="radio" name="q_<%=q.getId()%>" value="B"> <%= q.getOptionB() %></label><br/>
  <label><input type="radio" name="q_<%=q.getId()%>" value="C"> <%= q.getOptionC() %></label><br/>
  <label><input type="radio" name="q_<%=q.getId()%>" value="D"> <%= q.getOptionD() %></label><br/>
  <hr/>
<% } %>
<button type="submit">Submit</button>
</form>
</body></html>
WEB-INF/views/result.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html><head><title>Result</title></head>
<body>
<h2>Your Score: ${score} / ${total}</h2>
<a href="${pageContext.request.contextPath}/leaderboard?quizId=${quizId}">View Leaderboard</a>
</body></html>
WEB-INF/views/leaderboard.jsp
jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ page import="java.util.List,com.quiz.model.QuizResult" %>
<%
List<QuizResult> leaderboard = (List<QuizResult>) request.getAttribute("leaderboard");
%>
<!DOCTYPE html>
<html><head><title>Leaderboard</title></head>
<body>
<h2>Leaderboard</h2>
<table border="1" cellpadding="6">
  <tr><th>Rank</th><th>User ID</th><th>Score</th><th>Time</th></tr>
  <% int rank=1; for (QuizResult r : leaderboard) { %>
    <tr>
      <td><%= rank++ %></td>
      <td><%= r.getUserId() %></td>
      <td><%= r.getScore() %></td>
      <td><%= r.getCreatedAt() %></td>
    </tr>
  <% } %>
</table>
<a href="${pageContext.request.contextPath}/quizzes">Back to Quizzes</a>
</body></html>
web.xml
xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="https://jakarta.ee/xml/ns/jakartaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         version="5.0"
         xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd">

  <display-name>Quiz Portal</display-name>

  <welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
  </welcome-file-list>

  <!-- JSP is under WEB-INF/views; expose index at root -->
  <servlet>
    <servlet-name>DefaultServlet</servlet-name>
    <servlet-class>org.apache.catalina.servlets.DefaultServlet</servlet-class>
    <init-param>
      <param-name>debug</param-name>
      <param-value>0</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
  </servlet>

</web-app>
Optional Maven dependencies (pom.xml)
xml
<project xmlns="http://maven.apache.org/POM/4.0.0" ...>
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.quiz</groupId>
  <artifactId>quiz-portal</artifactId>
  <version>1.0.0</version>
  <packaging>war</packaging>

  <dependencies>
    <dependency>
      <groupId>jakarta.servlet</groupId>
      <artifactId>jakarta.servlet-api</artifactId>
      <version>5.0.0</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>mysql</groupId>
      <artifactId>mysql-connector-j</artifactId>
      <version>8.3.0</version>
    </dependency>
    <dependency>
      <groupId>jakarta.servlet.jsp.jstl</groupId>
      <artifactId>jakarta.servlet.jsp.jstl-api</artifactId>
      <version>2.0.0</version>
    </dependency>
    <dependency>
      <groupId>org.glassfish.web</groupId>
      <artifactId>jakarta.servlet.jsp.jstl</artifactId>
      <version>2.0.0</version>
    </dependency>
  </dependencies>

  <build>
    <plugins>
      <plugin>
        <artifactId>maven-war-plugin</artifactId>
        <version>3.3.2</version>
        <configuration>
          <failOnMissingWebXml>false</failOnMissingWebXml>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>
